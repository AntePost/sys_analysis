Схема набросана быстро, поэтому наверняка содержит в себе ошибки и неполная. Из того, что можно отметить:
- В целом используется микросервисаная архитектура со стримингом данных/событий в те сервисы, где они нужны
- Многие технические элементы системы, типа message broker и auth не описаны на схеме
- Нет отдельного сервиса нотификаций, вместо этого подключается библиотека, а конкретный флоу является частью соответствующего сервиса
- Сервис orders получился большим. Это основной продукт компании, но возможно его можно разбить на несколько
- Для логики matching есть модуль адаптера, который переводит понятия библиотеки matching на понятный нам язык
- И там же алгоритм matching вынесен в отдельный модуль, чтобы его было легче рефакторить
- Систему защиты от DDOS, которая нужна одному из фронтов, в данной схеме решено сделать через покупку отдельного продукта
- 2 разных сервиса с биллингом, так как предполагается, что это разные флоу и разные предметные области
- Не стал разделять payment provider между client / worker billings, так как для клиентов нужны разные способы оплаты, а у воркеров он может поменяться с Золотой Шляпы на что-нибудь другое
- Поскольку доставка печенья - физическое действие, то в схеме это не описано, а отдел сборки товаров руками отмечает доставку печенья, что уже приводит к order ready event (совместно с paraphernalia gathered)
- Надо придумать лучший термин для paraphernalia
